<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>EUI Demo (WASM)</title>
</head>
<body>
    <script src="wasm_exec.js"></script>
    <script type="module">
        import brotliPromise from 'https://unpkg.com/brotli-dec-wasm@2.3.0/index.js';

        const brotli = await brotliPromise;
        const go = new Go();
        const resp = await fetch('demo.wasm.br');
        const compressed = new Uint8Array(await resp.arrayBuffer());
        const decompressed = brotli.decompress(compressed);
        const { instance } = await WebAssembly.instantiate(decompressed.buffer, go.importObject);
        go.run(instance);
    </script>
</body>
</html>
